# 数据库系统面试题

## 目录

## 概念

1. 你了解数据库类型有哪些吗？（1分）  
    解析：  
    数据库类型可以分为关系型数据库和非关系型数据库。关系型数据库就是使用表格来组织数据，数据以行和列的形式存储，并通过关联表
    来连接不同表中的数据，常见的关系型数据库如oracle,mysql,sqlserver。  
    另外一种非关系型数据库，又可以细分为键值对型，文档型等等。键值对类型，很好理解，就是类似于哈希表中的键值对来存储
    数据，这样的数据库有radis,memcached；文档型数据库就是将数据存储在一个个文档里，每个文档里的数据结构可以自由组织，大大增加了
    数据存储的灵活性，这样的数据库有mongodb等。

2. 主键是什么？外键是什么？各自有什么特点？（3分）  
    解析：主键就是表中用来标识唯一记录的列，主键不能重复，不能为空，一张表只能有一个主键（包括组合主键）。
    外键是一个表里的某列是另外一个表的主键，这列叫外键，通常用作表之间的关联，外键可以为空，一张表可以有多个外键。  

3. 什么是内连接、外连接、交叉连接？(3分)   
   多张表连接的时候一般是通过字段与字段之间的关系进行连接的，然而每张表里的这个字段情况不一样，所以不同的连接方式会造成不同的结果集。  
   一般来讲，内连接就是A表跟B表的连接字段，两个字段都必须存在且满足on的条件，然后这两条不同表中的记录就会合并然后加入到结果集（1分）。  
   外连接就是在内连接的基础上，再把A表剩余的记录和B表剩余的记录加入到结果集（1分）。  
   交叉连接就是指左（外）连接或者右（外）连接，我们以左连接举例，A表左连接B表，那么在两表内连接的基础上，再把A表剩余的记录加入到结果集（1分）
   右连接同理。  

4.  模糊查询通配符"%"和"_"的区别(1分，了解即可)  
   “%”表示任何字符可以出现任意次数，“_”表示匹配单个字符。

5.  事务是什么
    数据库事务是作为一个逻辑单元执行的一系列操作，这些操作要么全部执行，要么全部不执行。事务有四个属性，称为ACID，也就是原子性，一致性，隔离性和持久性。
    原子性：事务必须是原子工作单元，事务中的操作，要么全部执行，要么全部不执行
    一致性：事务必须使数据库从一个一致性状态变换到另外一个一致性状态。比如在银行中两个账户转账前后的储蓄总和不变，这就是从转账前的一致性状态转变为了转账后的一致性状态。保证事务的一致性，就是保证数据库的完整性约束没有被破坏。
    隔离性：不同事务可以并发执行互不干扰
    持久性：一个事务一旦被提交，它对数据的改变是永久性的

6.  truncate和delete的区别
    1. delete可以带where，所以它可以条件删除，但truncate是删除整个表数据
    2. delete可以回滚，truncate不能回滚
    3. 高水位重置。意思就是表有一个高水位的概念，随着表记录不断增长，高水位也会提高，delete操作不会降低高水位，但truncate会重置，重置后再进行增删改操作就会提升一点速度
    
7.  数据库为什么加索引会查的快？  
    加了索引后数据库引擎会在内部维护一个数据结构，一般是B树类型的，在查询时，借助这个数据结构就能减少查询次数。

8.  什么情况下应不建立索引？
    - 表记录太少
    - 经常做增删改操作的表
    - 数据重复且分布平均的表字段
   
